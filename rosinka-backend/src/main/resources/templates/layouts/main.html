<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
  <title>–ö–û–ú–ü–ê–ù–ò–Ø ¬´–†–û–°–ò–ù–ö–ê¬ª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="UTF-8" />
  <link rel="stylesheet" th:href="@{/css/main.css}" />
</head>

<body>
  <div class="site-container">
    <header class="site-header">
      <div class="header-container">
        <div class="logo">
          <a href="/">
            <img id="logo" th:src="@{/assets/rosinka.png}" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–ø–∞–Ω–∏–∏ –†–æ—Å–∏–Ω–∫–∞" />
          </a>
        </div>
        <nav class="main-nav">
          <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
          <a href="/about">–û –∫–æ–º–ø–∞–Ω–∏–∏</a>
          <a href="/catalog">–ö–∞—Ç–∞–ª–æ–≥</a>
          <a href="/contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </nav>
        <div class="header-icons">
          <a href="https://vk.com/rosinka_lip" target="_blank" class="icon-link" title="–ú—ã –í–ö–æ–Ω—Ç–∞–∫—Ç–µ"
            rel="noopener noreferrer">
            <img th:src="@{/assets/vk.png}" alt="VK" class="social-icon" />
          </a>
          <a href="https://ok.ru/group/70000002567323" target="_blank" class="icon-link" title="–ú—ã –≤ –û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∞—Ö"
            rel="noopener noreferrer">
            <img th:src="@{/assets/ok.png}" alt="OK" class="social-icon" />
          </a>
          <a href="/cart" class="icon-link cart-icon-link" title="–ö–æ—Ä–∑–∏–Ω–∞">
            <img th:src="@{/assets/cart.png}" alt="–ö–æ—Ä–∑–∏–Ω–∞" class="cart-icon" />
            <span class="cart-badge" id="cartBadge" style="display:none;">0</span>
          </a>
          <a href="#" class="icon-link" id="authProfileLink" title="–í–æ–π—Ç–∏/–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è">
            <img th:src="@{/assets/user.png}" alt="–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è" class="social-icon" />
          </a>
        </div>
      </div>
    </header>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cartModal" class="modal-overlay" style="display:none;">
      <div class="cart-modal-window">
        <div class="cart-modal-header">
          <h2 class="cart-modal-title">
            <img th:src="@{/assets/cart.png}" alt="–ö–æ—Ä–∑–∏–Ω–∞" class="cart-icon-title" />
            –ö–æ—Ä–∑–∏–Ω–∞
            <span class="cart-items-count" id="cartItemsCount">(0 —Ç–æ–≤–∞—Ä–æ–≤)</span>
          </h2>
          <button class="modal-close" id="closeCartModal">&times;</button>
        </div>

        <div class="cart-modal-body" id="cartModalBody">
          <!-- –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ -->
          <div class="cart-empty" id="cartEmpty">
            <img th:src="@{/assets/cart.png}" alt="–ö–æ—Ä–∑–∏–Ω–∞" class="cart-empty-icon" />
            <h3>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
            <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
            <a href="/catalog" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
          </div>

          <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
          <div class="cart-items" id="cartItems" style="display:none;">
            <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
          </div>
        </div>

        <div class="cart-modal-footer" id="cartModalFooter" style="display:none;">
          <div class="cart-total">
            <div class="cart-total-row">
              <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
              <span class="cart-total-price" id="cartTotalPrice">0 ‚ÇΩ</span>
            </div>
            <div class="cart-total-info">
              <span id="cartTotalItems">0 —Ç–æ–≤–∞—Ä–æ–≤</span>
            </div>
          </div>
          <div class="cart-actions">
            <a href="/catalog" class="btn btn-secondary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
            <button class="btn btn-primary" onclick="alert('–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ - —Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">
              –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="authModal" class="modal-overlay" style="display:none;">
      <div class="modal-window">
        <button class="modal-close" id="closeAuthModal">&times;</button>
        <div class="modal-tabs">
          <button id="loginTab" class="modal-tab active">–í—Ö–æ–¥</button>
          <button id="registerTab" class="modal-tab">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="loginSection">
          <h2>–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>
          <form id="loginForm">
            <label>Email</label>
            <input type="email" name="email" placeholder="your@email.com" required />
            <label>–ü–∞—Ä–æ–ª—å</label>
            <input type="password" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required />
            <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
          </form>
        </div>

        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="registerSection" style="display:none;">
          <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
          <form id="registerForm">
            <label>–ò–º—è</label>
            <input type="text" name="name" placeholder="–í–∞—à–µ –∏–º—è" required />

            <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="tel" name="phone" placeholder="+7 (___) ___-__-__" required />

            <label>Email</label>
            <input type="email" name="email" placeholder="your@email.com" required />

            <label>–ü–∞—Ä–æ–ª—å</label>
            <input type="password" id="registerPassword" name="password" placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤" required
              minlength="8" maxlength="128" />
            <div id="passwordRequirements" class="password-requirements"></div>

            <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
            <input type="password" name="confirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required minlength="8"
              maxlength="128" />

            <label class="checkbox-label">
              <input type="checkbox" name="agree_personal" required />
              –°–æ–≥–ª–∞—Å–µ–Ω(–∞) –Ω–∞
              <a href="/privacy" target="_blank">–æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" name="agree_policy" required />
              –°–æ–≥–ª–∞—Å–µ–Ω(–∞) —Å
              <a href="/privacy" target="_blank">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
            </label>

            <button type="submit" class="btn btn-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
          </form>
        </div>
      </div>
    </div>

    <main th:class="${isCatalog} ? 'catalog-main' : ''">
      <div layout:fragment="content"></div>
    </main>

    <footer>
      <div class="footer-container">
        <div class="footer-column">
          <h3>–û –∫–æ–º–ø–∞–Ω–∏–∏</h3>
          <ul>
            <li><a href="/about#timeline-section">–ò—Å—Ç–æ—Ä–∏—è</a></li>
            <li><a href="/about#technology-section">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</a></li>
            <li><a href="/contacts">–í–∞–∫–∞–Ω—Å–∏–∏</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>–ü—Ä–æ–¥—É–∫—Ü–∏—è</h3>
          <ul>
            <li><a href="/catalog">–ú–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è –≤–æ–¥–∞</a></li>
            <li><a href="/catalog">–õ–∏–º–æ–Ω–∞–¥—ã</a></li>
            <li><a href="/catalog">–•–æ–ª–æ–¥–Ω—ã–π —á–∞–π</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
          <ul>
            <li>
              <a href="https://yandex.ru/maps/-/CLSjJDND" target="_blank" rel="noopener noreferrer">üìç –≥. –õ–∏–ø–µ—Ü–∫,
                –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∑–¥, 11</a>
            </li>
            <li>üìû +7 (4742) 30-80-80</li>
            <li>üìß root@liprosinka.ru</li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p><a href="/privacy#privacy">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> | –ö–û–ú–ü–ê–ù–ò–Ø ¬´–†–û–°–ò–ù–ö–ê¬ª &copy; 2025. –í—Å–µ –ø—Ä–∞–≤–∞
          –∑–∞—â–∏—â–µ–Ω—ã. | <a href="/privacy#agreement">–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a></p>
      </div>
    </footer>
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JS –º–æ–¥—É–ª–∏ -->
  <script th:src="@{/js/phone-mask.js}"></script>
  <script th:src="@{/js/password-validator.js}"></script>
  <script th:src="@{/js/contacts.js}"></script>
  <script th:src="@{/js/auth/auth-service.js}"></script>
  <script th:src="@{/js/auth/auth-modal.js}"></script>
  <script th:src="@{/js/auth/auth-init.js}"></script>
  <script th:src="@{/js/cart.js}"></script>

  <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ –¥–æ—á–µ—Ä–Ω–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ -->
  <th:block layout:fragment="scripts"></th:block>
</body>

</html>