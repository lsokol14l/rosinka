<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/main}">

<head>
    <title>–ö–∞—Ç–∞–ª–æ–≥ - –ö–û–ú–ü–ê–ù–ò–Ø ¬´–†–û–°–ò–ù–ö–ê¬ª</title>
</head>

<body>
    <div layout:fragment="content">

        <div class="catalog-page">
            <!-- Sidebar —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ -->
            <aside class="catalog-sidebar">
                <h2 class="sidebar-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                <nav class="categories-nav">
                    <a href="/catalog" class="category-nav-item"
                        th:classappend="${selectedCategoryId == null} ? ' active' : ''">
                        –í—Å–µ —Ç–æ–≤–∞—Ä—ã
                    </a>
                    <a th:href="@{/catalog(categoryId=1)}" class="category-nav-item"
                        th:classappend="${selectedCategoryId == 1} ? ' active' : ''">
                        –°–æ–∫–æ—Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –Ω–∞–ø–∏—Ç–∫–∏
                    </a>
                    <a th:href="@{/catalog(categoryId=2)}" class="category-nav-item"
                        th:classappend="${selectedCategoryId == 2} ? ' active' : ''">
                        –•–æ–ª–æ–¥–Ω—ã–π —á–∞–π
                    </a>
                    <a th:href="@{/catalog(categoryId=3)}" class="category-nav-item"
                        th:classappend="${selectedCategoryId == 3} ? ' active' : ''">
                        –ú–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è –≤–æ–¥–∞
                    </a>
                    <a th:href="@{/catalog(categoryId=4)}" class="category-nav-item"
                        th:classappend="${selectedCategoryId == 4} ? ' active' : ''">
                        –ú–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è –≤–æ–¥–∞ —Å —Å–æ–∫–æ–º
                    </a>
                    <a th:href="@{/catalog(categoryId=5)}" class="category-nav-item"
                        th:classappend="${selectedCategoryId == 5} ? ' active' : ''">
                        Party Time
                    </a>
                </nav>
            </aside>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ -->
            <div class="catalog-content">
                <div class="catalog-header">
                    <h1 class="catalog-title">–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏</h1>
                    <p class="catalog-subtitle">–ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: <strong th:text="${#lists.size(products)}">0</strong>
                    </p>
                </div>

                <form class="catalog-search" th:action="@{/catalog}" method="get">
                    <!-- –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ—ë –≤ —Å–∫—Ä—ã—Ç–æ–º –ø–æ–ª–µ -->
                    <input type="hidden" name="categoryId" th:value="${selectedCategoryId}"
                        th:if="${selectedCategoryId != null}" />

                    <input type="text" name="query" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."
                        th:value="${query}" />

                    <button type="submit" class="search-button">
                        <span class="search-icon">üîç</span>
                        –ù–∞–π—Ç–∏
                    </button>
                </form>
                <div class="products-grid">
                    <article th:each="product : ${products}" class="product-card">
                        <div class="product-link-wrapper">
                            <a class="product-link" th:href="@{/product/{id}(id=${product.id})}">
                                <img th:src="${product.imageUrl}" th:alt="${product.altText}" class="product-image"
                                    width="280" height="320" />
                            </a>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">
                                <a th:href="@{/product/{id}(id=${product.id})}" th:text="${product.name}">–ù–∞–∑–≤–∞–Ω–∏–µ
                                    –ø—Ä–æ–¥—É–∫—Ç–∞</a>
                            </h3>
                            <p class="product-description" th:text="${product.shortDescription}">
                                –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
                            </p>
                            <p class="product-price">
                                <span th:text="${product.price} + ' ‚ÇΩ'">100 ‚ÇΩ</span>
                            </p>
                        </div>
                    </article>
                </div>

                <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
                <div th:if="${#lists.isEmpty(products)}" class="empty-catalog">
                    <p>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                </div>
            </div>
        </div>

    </div>
</body>

</html>