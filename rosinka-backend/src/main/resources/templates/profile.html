<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/main}">

<head>
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - –ö–û–ú–ü–ê–ù–ò–Ø ¬´–†–û–°–ò–ù–ö–ê¬ª</title>
    <link rel="stylesheet" th:href="@{/css/modules/profile.css}" />
</head>

<body>
    <div layout:fragment="content">
        <div class="profile-page">
            <div class="profile-container">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div class="profile-header">
                    <h1 class="profile-title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
                    <p class="profile-subtitle">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</p>
                </div>

                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div id="profileContent" class="profile-content" style="display: none;">

                    <!-- –°–µ–∫—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
                    <div class="section-card">
                        <div class="section-header">
                            <div class="section-icon">üë§</div>
                            <h2 class="section-title">–ü—Ä–æ—Ñ–∏–ª—å</h2>
                        </div>

                        <div class="profile-card">
                            <div class="profile-avatar">
                                <div class="avatar-circle" id="avatarCircle">
                                    <img id="avatarImage" src="" alt="–ê–≤–∞—Ç–∞—Ä"
                                        style="display: none; width: 100%; height: 100%; object-fit: cover; border-radius: 16px;" />
                                    <span id="avatarInitial">?</span>
                                </div>
                            </div>
                            <div class="profile-details">
                                <h3 class="profile-name" id="profileName">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                                <div class="profile-email-row">
                                    <span>‚úâÔ∏è</span>
                                    <span id="profileEmail">email@example.com</span>
                                </div>
                                <input type="file" id="avatarInput" accept="image/jpeg,image/png,image/gif,image/webp"
                                    style="display: none;" />
                                <button type="button" class="upload-btn" id="uploadAvatarBtn">
                                    <span>üì∑</span> –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
                                </button>
                                <p class="upload-hint">–î–æ 5 –ú–ë ‚Ä¢ JPG, PNG, GIF, WebP</p>
                            </div>
                        </div>

                        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
                        <div class="info-grid">
                            <div class="info-card">
                                <div class="info-card-header">
                                    <span class="info-card-icon">üÜî</span>
                                    <span class="info-card-label">ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
                                </div>
                                <div class="info-card-value" id="infoId">-</div>
                            </div>
                            <div class="info-card">
                                <div class="info-card-header">
                                    <span class="info-card-icon">üìû</span>
                                    <span class="info-card-label">–¢–µ–ª–µ—Ñ–æ–Ω</span>
                                </div>
                                <div class="info-card-value" id="infoPhone">-</div>
                            </div>
                            <div class="info-card">
                                <div class="info-card-header">
                                    <span class="info-card-icon">üìÖ</span>
                                    <span class="info-card-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</span>
                                </div>
                                <div class="info-card-value" id="infoDate">-</div>
                            </div>
                            <div class="info-card">
                                <div class="info-card-header">
                                    <span class="info-card-icon">üïê</span>
                                    <span class="info-card-label">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥</span>
                                </div>
                                <div class="info-card-value" id="infoLastLogin">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- –°–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
                    <div class="section-card">
                        <div class="section-header">
                            <div class="section-icon settings-icon">‚öôÔ∏è</div>
                            <h2 class="section-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
                        </div>

                        <!-- –§–æ—Ä–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
                        <div class="security-grid">
                            <div class="security-card">
                                <div class="security-card-header">
                                    <div class="security-card-icon">‚úâÔ∏è</div>
                                    <h4 class="security-card-title">–°–º–µ–Ω–∞ E-mail</h4>
                                </div>
                                <form id="changeEmailForm">
                                    <div class="form-group">
                                        <label>–ù–æ–≤—ã–π E-mail</label>
                                        <input type="email" name="newEmail" placeholder="example@email.com" required />
                                    </div>
                                    <div class="form-group">
                                        <label>–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
                                        <input type="password" name="currentPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
                                    </div>
                                    <div id="emailFormMessage" class="form-message"></div>
                                    <button type="submit" class="security-btn">
                                        <span>‚úâÔ∏è</span> –°–º–µ–Ω–∏—Ç—å –ø–æ—á—Ç—É
                                    </button>
                                </form>
                            </div>

                            <div class="security-card">
                                <div class="security-card-header">
                                    <div class="security-card-icon">üîí</div>
                                    <h4 class="security-card-title">–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h4>
                                </div>
                                <form id="changePasswordForm">
                                    <div class="form-group">
                                        <label>–°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å</label>
                                        <input type="password" name="oldPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
                                    </div>
                                    <div class="form-group">
                                        <label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                                        <input type="password" name="newPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required
                                            minlength="8" />
                                    </div>
                                    <div id="passwordFormMessage" class="form-message"></div>
                                    <button type="submit" class="security-btn">
                                        <span>üîë</span> –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- –°–µ–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞ -->
                    <div class="section-card logout-section">
                        <div class="logout-card">
                            <div class="logout-info">
                                <div class="logout-icon">üö™</div>
                                <div class="logout-text">
                                    <h4>–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</h4>
                                    <p>–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é</p>
                                </div>
                            </div>
                            <button id="logoutBtn" class="logout-btn">
                                <span>üö™</span> –í—ã–π—Ç–∏
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div id="notAuthContent" class="not-auth-content">
                    <div class="not-auth-icon">üîê</div>
                    <div class="not-auth-message">
                        <h3>–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã</h3>
                        <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.</p>
                        <a href="/" class="btn-primary" id="goLoginBtn">
                            <span>üîë</span> –í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <th:block layout:fragment="scripts">
        <script th:src="@{/js/profile.js}"></script>
    </th:block>
</body>

</html>